<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Callback Function</title>
  </head>
  <body>
    <div></div>
    <script>
      const news = [
        { newsTitle: "First TItle", content: "This is a javascript program" },
        {
          newsTitle: "Second Title",
          content: "Thiss is a callback function topic",
        },
        { newsTitle: "Third title", content: "Hello Nepal" },
      ];

      //define the function showNews
      const showNews = () => {
        //setTimeout(slider,2000)
        setTimeout(() => {
          let result = "";
          news.forEach((post) => {
            result += `<li>${post.newsTitle}</li>`;
          });
          document.querySelector("div").innerHTML = result;
        }, 2000);
      };

      // const addNews = () => {
      //   setTimeout((newdata) => {
      //     //to add data to array
      //     news.push(newdata);
      //   }, 3000);
      // };

      // //call the function showNews
      // showNews();

      // //call the funtion addNews
      // addNews({
      //   newsTitle: "Fourth Title",
      //   content: "This is added by the use of push method",
      // });

      //define the function with a callback function showNews
      const addNews = (newdata, callback) => {
        setTimeout(() => {
          news.push(newdata);
          //call the callback function after adding new data
          callback();
        }, 3000);
      };

      //call the function addNews with callback function showNews
      addNews(
        {
          newsTitle: "Fourth Title",
          content: "This is added by the use of push method",
        },
        showNews
      );
    </script>
  </body>
</html>
